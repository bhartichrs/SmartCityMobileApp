webpackJsonp([12,35],{597:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=r(2),i=a(s);r(2250),t["default"]=i["default"].module("aws.apiManager.resource",[r(939)["default"].name,r(120)["default"].name]).directive("resource",r(1483)["default"]).directive("resourceCreate",r(1482)["default"])},937:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function s(e){var t=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),r=/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor),a=t||r;return{restrict:"E",link:function(t,r){function s(t){e.removeClass(t,"slide-out-left slide-out-right slide-in-left slide-in-right")}t.$emit("slider:addSlide",{leave:function(t,i,n){if(a&&n&&!(0,o["default"])(t)&&!(0,o["default"])(i)&&t!==i){var l=t<=i?"slide-out-left":"slide-out-right";s(r),e.addClass(r,l)}},enter:function(t,i,n){if(a&&n&&!(0,o["default"])(t)&&!(0,o["default"])(i)&&t!==i){var l=t<=i?"slide-in-right":"slide-in-left";s(r),e.addClass(r,l)}}})}}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=s;var i=r(42),o=a(i),n=["$animate"];s.$inject=n},938:function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(){var e=["$scope","$element"],t=function(){function e(t,a){r(this,e),this.$scope=t,this.slides=[],this.currentSlideIndex=0,this.$element=a,this.previousHeight=0,this.setUpListeners()}return s(e,[{key:"setUpListeners",value:function(){var e=this;this.$scope.$on("slider:next",function(){return e.next()}),this.$scope.$on("slider:prev",function(){return e.prev()}),this.$scope.$on("slider:goToSlide",function(t,r){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e.goToSlide(r,a)}),this.$scope.$on("slider:addSlide",function(t,r){return e.addSlide(r)})}},{key:"setHeightToContentHeight",value:function(){var e=this.slideContentElements[this.currentSlideIndex];if(e){var t=e.offsetHeight;t!==this.previousHeight&&this.$element.css({height:t}),this.previousHeight=t}}},{key:"next",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.goToSlide(this.currentSlideIndex+1,e)}},{key:"prev",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.goToSlide(this.currentSlideIndex-1,e)}},{key:"addSlide",value:function(e){e.slide=!0,this.slides.push(e),e._visible=!1}},{key:"goToSlide",value:function(e){function t(t,r){t._visible&&(t._visible=!1,t.leave(s,e,r))}function r(t,r){t._visible||(t._visible=!0,t.enter(s,e,r))}var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=this.currentSlideIndex,i=this.slides[s],o=this.slides[e];if(this.currentSlideIndex=e,o)return t(i,a),r(o,a),o}}]),e}();return t.$inject=e,{restrict:"E",controller:t,controllerAs:"sliderCtrl",link:function(e,t,r,a){a.slideContentElements=t.find(".slide-content")}}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();t["default"]=a;var i=[];a.$inject=i},939:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=r(2),i=a(s);r(1079),t["default"]=i["default"].module("aws.slider",["ngAnimate"]).directive("slider",r(938)["default"]).directive("sliderSlide",r(937)["default"])},963:function(e,t,r){t=e.exports=r(8)(),t.push([e.id,"slider{display:block;position:relative;overflow:auto}slider-slide{width:100%}.slide-content,slider-slide{display:block}slider-slide.ng-hide-animate{-webkit-transition:all .3s ease-out}slider-slide.ng-hide-remove{position:absolute;top:0;left:0;bottom:0}slider-slide.slide-in-right.ng-hide-remove{-webkit-animation:slideInRight .3s}slider-slide.slide-in-left.ng-hide-remove{-webkit-animation:slideInLeft .3s}slider-slide.slide-out-left.ng-hide-add{-webkit-animation:slideOutLeft .3s}slider-slide.slide-out-right.ng-hide-add{-webkit-animation:slideOutRight .3s}@keyframes slideInLeft{0%{transform:translate3d(-100%,0,0);visibility:visible}to{transform:translateZ(0)}}.slideInLeft{animation-name:slideInLeft}@keyframes slideInRight{0%{transform:translate3d(100%,0,0);visibility:visible}to{transform:translateZ(0)}}.slideInRight{animation-name:slideInRight}@keyframes slideOutLeft{0%{transform:translateZ(0)}to{visibility:hidden;transform:translate3d(-100%,0,0)}}.slideOutLeft{animation-name:slideOutLeft}@keyframes slideOutRight{0%{transform:translateZ(0)}to{visibility:hidden;transform:translate3d(100%,0,0)}}.slideOutRight{animation-name:slideOutRight}",""])},1079:function(e,t,r){var a=r(963);"string"==typeof a&&(a=[[e.id,a,""]]);r(9)(a,{});a.locals&&(e.exports=a.locals)},1482:function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t,s,o,n,l,c){var u=[],d=function(){function e(){a(this,e),this.showSpinner=!1,this.formData={configureAsProxy:!1,resourceName:"",resourceUri:"",enableCorsWithMockIntegration:!1},this.hasEditedResourceName=!1,this.hasEditedResourcePath=!1}return i(e,[{key:"onConfigureAsProxyChange",value:function(){this.hasEditedResourceName||this.hasEditedResourcePath||(this.formData.resourceName=this.formData.configureAsProxy?"proxy":"",this.formData.resourceUri=this.formData.configureAsProxy?"{proxy+}":"")}},{key:"resourcePathChange",value:function(){this.hasEditedResourcePath=!0}},{key:"resourceNameChange",value:function(){this.hasEditedResourceName=!0,this.hasEditedResourcePath||(this.formData.resourceUri=this.formData.resourceName.replace(/[^A-Z0-9]+/gi,"-").toLowerCase())}},{key:"cancel",value:function(){window.location.href="#/apis/"+this.api.id+"/resources"}},{key:"isValid",value:function(){var e=this.formData.resourceUri,t=this.formData.resourceName;return this.formData.configureAsProxy?e&&t&&s.resourceUriHasGreedyPathParameter(this.formData.resourceUri):e&&t}},{key:"resourceUriHasGreedyPathParameter",value:function(){return s.resourceUriHasGreedyPathParameter(this.formData.resourceUri)}},{key:"createCorsMethod",value:function(e){var t=e.apiId,r=e.resourceId,a=l.getHttpMethods(),s=[{header:"Access-Control-Allow-Headers",value:"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'"},{header:"Access-Control-Allow-Methods",value:"'"+a.join(",")+"'"},{header:"Access-Control-Allow-Origin",value:"'*'"}],i="OPTIONS",o={authorizationType:"NONE",requestParameters:{}};return l.createMethod({apiId:t,resourceId:r,httpMethod:i,data:o}).then(function(){return l.addEmpty200ResponseModel({apiId:t,resourceId:r,httpMethod:i})}).then(function(){var e={type:"MOCK",requestTemplates:{"application/json":'{"statusCode": 200}'}};return c.putIntegration({apiId:t,resourceId:r,httpMethod:i,data:e})}).then(function(){return c.add200ResponseTemplate({apiId:t,resourceId:r,httpMethod:i})}).then(function(){return l.addMethodResponseParameters({apiId:t,resourceId:r,httpMethod:i,httpStatus:200,headerNames:s.map(function(e){return e.header})})}).then(function(){return c.addIntegrationResponseHeaderMappings({apiId:t,resourceId:r,httpMethod:i,httpStatus:200,headerMappings:s})})}},{key:"createAnyMethod",value:function(e){var t=e.apiId,r=e.resourceId,a=e.path,i={authorizationType:"NONE",requestParameters:s.getMethodRequestParametersFromPath(a)};return l.createMethod({apiId:t,resourceId:r,httpMethod:"ANY",data:i})}},{key:"submitResource",value:function(){var e=this;this.showSpinner=!0;var r={name:this.formData.resourceName,pathPart:this.formData.resourceUri};t.post(n+"/restapis/"+this.api.id+"/resources/"+this.parentResource.id,r).then(function(t){var r=t.data,a=e.api.id,s=r.id,i=e.formData.enableCorsWithMockIntegration?e.createCorsMethod({apiId:a,resourceId:s}):Promise.resolve(),n=r.path,l=e.resourceUriHasGreedyPathParameter(),c=l?e.createAnyMethod({apiId:a,resourceId:s,path:n}):Promise.resolve();Promise.all([i,c]).then(function(){l?o.reloadState("aws.apiManager.apis.api.details.resources.resource.methods.method",{apiId:a,resourceId:s,methodName:"ANY"}):o.reloadState("aws.apiManager.apis.api.details.resources.resource.details",{apiId:a,resourceId:s})})})["catch"](function(t){var r=t.data;o.showError(r),e.showSpinner=!1})}}]),e}();return d.$inject=u,{restrict:"E",scope:{api:"=",parentResource:"="},template:r(1694),bindToController:!0,controllerAs:"resourceCreateCtrl",controller:d}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();t["default"]=s;var o=["$rootScope","$http","resourceService","utilsService","API_URL_PREFIX","methodService","integrationService"];s.$inject=o},1483:function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t,s,o){var n=["$scope","$timeout"],l=function(){function r(e,t){var s=this;a(this,r),this.isMethodRefreshing=!1,this.$scope=e,this.currentSlideIndex=0,this.isResourcePathEditing=!1,t(function(){return s.goToSlide(0,!1)},0)}return i(r,[{key:"showResourceDocumentation",value:function(){o.showModal({api:this.api,docPartType:"RESOURCE",path:this.resource.path})}},{key:"getParentResourcePathPart",value:function(){return this.resource&&s.getParentResourcePathPart(this.resource.path)}},{key:"getResourcePathPart",value:function(){return this.resource&&s.getResourcePathPart(this.resource.path)}},{key:"editResourcePath",value:function(){this.newResourcePath=this.getResourcePathPart(),this.isResourcePathEditing=!0}},{key:"saveResourcePath",value:function(){var r=this,a={patchOperations:[{op:"replace",path:"/pathPart",value:this.newResourcePath}]};this.isResourcePathEditing=!0,s.saveResource({updateLink:this.resource._links["resource:update"].href,patch:a}).then(function(t){r.resource=t.data,r.isResourcePathEditing=!1,e.$broadcast("resource:update",r.resource)})["catch"](function(e){var a=e.data;t.showError(a),r.isResourcePathEditing=!1})}},{key:"cancelEditingResourcePath",value:function(){this.isResourcePathEditing=!1}},{key:"getMethodLink",value:function(e){var t="#/apis/"+this.api.id+"/",r=this.stage?"stages/"+this.stage.stageName+"/":"",a="resources/"+this.resource.id+"/methods/"+e.httpMethod,s=t+r+a;return s}},{key:"selectMethod",value:function(t){e.$broadcast("resource:selectMethod",t)}},{key:"goToMethodsList",value:function(){var e=0;this.goToSlide(e),this.$scope.$broadcast("resource:goToMethods")}},{key:"goToSlide",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.currentSlideIndex=e,this.$scope.$broadcast("slider:goToSlide",e,t)}}]),r}();return l.$inject=n,{restrict:"E",scope:{api:"=",resource:"=",stage:"=?"},template:r(1695),bindToController:!0,controllerAs:"resourceCtrl",controller:l}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();t["default"]=s;var o=["$rootScope","utilsService","resourceService","apiDocPartModalService"];s.$inject=o},1585:function(e,t,r){t=e.exports=r(8)(),t.push([e.id,"resource{-ms-flex:1;flex:1}resource-create .input-group .form-control.has-error-tooltip{width:calc(100% - 20px)}",""])},1694:function(e,t){e.exports='<div class=create-resource-form> <div class=full-page-form> <div class=awsctk-input-area> <div class=awsctk-input-label> <label for=configureAsProxyField><span translate=RESOURCE_CREATE.CONFIGURE_AS_PROXY_LABEL></span></label> </div> <div class=awsctk-input-field> <input id=configureAsProxyField type=checkbox class=backplane-text-input ng-model=resourceCreateCtrl.formData.configureAsProxy ng-change=resourceCreateCtrl.onConfigureAsProxyChange() /> <i class="fa fa-info-circle" tooltip-placement=right tooltip="{{\'RESOURCE_CREATE.CONFIGURE_AS_PROXY_TOOLTIP\' | translate}}"></i> </div> </div> <div class=awsctk-input-area> <div class=awsctk-input-label> <label for=resourceNameField><span translate=RESOURCE_CREATE.RESOURCE_NAME_LABEL></span>*</label> </div> <div class=awsctk-input-field> <input id=resourceNameField placeholder="{{\'RESOURCE_CREATE.RESOURCE_NAME_TOOLTIP\' | translate}}" type=text name=resourceName ng-model=resourceCreateCtrl.formData.resourceName ng-change=resourceCreateCtrl.resourceNameChange() class="awsctk-form-large backplane-text-input"/> </div> </div> <div class=awsctk-input-area> <div class=awsctk-input-label> <label for=resourceUriField><span translate=RESOURCE_CREATE.RESOURCE_PATH_LABEL></span>*</label> </div> <div class=awsctk-input-field> <div class=form-group> <div class="input-group awsctk-form-large"> <div class="input-group-addon ellipsis reverse-ellipsis" style="max-width:500px;padding:0 1em"> <span style=padding:0>{{resourceCreateCtrl.parentResource.path.length > 1 ? resourceCreateCtrl.parentResource.path : \'\'}}/</span> </div> <input id=resourceUriField placeholder=my-resource type=text name=resourceUri ng-model=resourceCreateCtrl.formData.resourceUri ng-change=resourceCreateCtrl.resourcePathChange() class="form-control resource-path-part" ng-class="{\'has-error-tooltip\': !resourceCreateCtrl.resourceUriHasGreedyPathParameter(), \'width-full\': resourceCreateCtrl.resourceUriHasGreedyPathParameter()}"/> <i ng-if="resourceCreateCtrl.formData.configureAsProxy && !resourceCreateCtrl.resourceUriHasGreedyPathParameter()" class="fa fa-warning validation-icon" tooltip-placement=left tooltip="{{\'RESOURCE_CREATE.GREEDY_PATH_PARAMETER_REQUIRED\' | translate}}" style=margin-left:5px></i> </div> <p class=pad-top><span style=display:inline translate=RESOURCE_CREATE.PATH_PARAMETER_INFO></span> <span style=display:inline translate=RESOURCE_CREATE.PROXY_PATH_PARAMETER_INFO translate-values="{resourcePath: resourceCreateCtrl.parentResource.path.length > 1 ? resourceCreateCtrl.parentResource.path : \'\'}"></span></p> </div> </div> </div> <section> <div class=form-group> <div class=awsctk-input-label> <label for=enableCorsField translate=RESOURCE_CREATE.ENABLE_EARLY_CORS_LABEL></label> </div> <div class=awsctk-input-field> <input id=enableCorsField type=checkbox class=backplane-text-input ng-model=resourceCreateCtrl.formData.enableCorsWithMockIntegration /> <i class="fa fa-info-circle" tooltip-placement=right tooltip="{{\'RESOURCE_CREATE.ENABLE_EARLY_CORS_TOOLTIP\' | translate}}"></i> </div> </div> </section> </div> <div class=full-page-form-footer> <div class=pull-left><b translate=RESOURCE_CREATE.REQUIRED_INFO></b></div> <div class=pull-right> <button type=button ng-click=resourceCreateCtrl.cancel() class=backplane-btn-link translate=RESOURCE_CREATE.CANCEL_BUTTON></button> <button type=button ng-disabled="!resourceCreateCtrl.isValid() || resourceCreateCtrl.showSpinner" ng-click=resourceCreateCtrl.submitResource() class="backplane-btn-primary pull-right create-resource-button"><i ng-show=resourceCreateCtrl.showSpinner class="fa fa-refresh fa-spin button-spinner"></i><span translate=RESOURCE_CREATE.CREATE_BUTTON></span></button> </div> </div> </div> '},1695:function(e,t){e.exports="<div class=resource> <h2> <span class=resource-path-title>{{resourceCtrl.getParentResourcePathPart()}}/<span ng-show=!resourceCtrl.isResourcePathEditing>{{resourceCtrl.getResourcePathPart()}}</span></span> <input type=text class=backplane-text-input style=height:28px ng-model=resourceCtrl.newResourcePath ng-show=resourceCtrl.isResourcePathEditing /> <span class=\"fa fa-check-circle clickable\" title=Save ng-click=resourceCtrl.saveResourcePath() ng-show=resourceCtrl.isResourcePathEditing></span> <span class=\"fa fa-times-circle clickable\" title=Cancel ng-click=resourceCtrl.cancelEditingResourcePath() ng-show=resourceCtrl.isResourcePathEditing></span> <span class=resource-methods-title ng-show=!resourceCtrl.isResourcePathEditing translate=RESOURCE.METHODS_TITLE></span> <div class=\"fa fa-book clickable resource-documentation-button\" title=\"{{'RESOURCE.DOCUMENTATION_BUTTON' | translate}}\" ng-click=resourceCtrl.showResourceDocumentation(); style=position:absolute;right:5.7rem></div> </h2> <div ng-show=!resourceCtrl.isMethodRefreshing class=\"backplane-card method-card method-summary\" ng-repeat=\"method in resourceCtrl.resource._embedded['resource:methods'] | orderBy: 'httpMethod'\" ng-class=\"{'method-any-row': method.httpMethod == 'ANY', 'method-get-row': method.httpMethod == 'GET', 'method-post-row': method.httpMethod == 'POST', 'method-put-row': method.httpMethod == 'PUT', 'method-delete-row': method.httpMethod == 'DELETE', 'method-patch-row': method.httpMethod == 'PATCH', 'method-options-row': method.httpMethod == 'OPTIONS', 'method-head-row': method.httpMethod == 'HEAD'}\"> <div class=\"backplane-card-header editing http-method\"><a href={{resourceCtrl.getMethodLink(method)}} ng-click=resourceCtrl.selectMethod(method)><i class=\"fa fa-cube tree-icon\"></i>{{method.httpMethod}}</a></div> <div ng-show=!method.summary.integrationNew class=backplane-card-content> <div class=method-execution> <span class=method-execution-name title={{method.summary.execution}}>{{method.summary.execution}}</span> </div> <div class=method-summary> <ul class=list-unstyled> <li> <label translate=RESOURCE.SUMMARY_AUTHORIZATION_LABEL></label> <span class=method-summary-green ng-class=\"{'method-summary-warning' : method.authorizationType === 'NONE'}\">{{method.summary.auth}}</span> </li> <li> <label translate=RESOURCE.SUMMARY_API_KEY_LABEL></label> <span ng-class=\"{'method-summary-green' : method.apiKeyRequired}\">{{method.summary.apiKeyRequired}}</span> </li> </ul> </div> </div> <div ng-show=method.summary.integrationNew class=\"backplane-card-content integ-new\"> <div ng-show=!resourceCtrl.stage translate=RESOURCE.METHOD_NOT_SETUP_WARNING translate-values=\"{link: resourceCtrl.getMethodLink(method)}\"></div> </div> </div> <div ng-show=\"resourceCtrl.resource._embedded['resource:methods'].length < 1 && !resourceCtrl.isMethodRefreshing\" class=editor-message> <span translate=RESOURCE.NO_METHODS_DEFINED_TEXT translate-values=\"{name: resourceCtrl.resource.name}\"></span> </div> <div ng-show=resourceCtrl.isMethodRefreshing class=method-loading> <i class=\"fa fa-refresh fa-spin\"></i> </div> </div> "},2250:function(e,t,r){var a=r(1585);"string"==typeof a&&(a=[[e.id,a,""]]);r(9)(a,{});a.locals&&(e.exports=a.locals)}});
//# sourceMappingURL=12.js.map
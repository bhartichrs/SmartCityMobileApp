webpackJsonp([7,35],{598:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(2),s=r(o);a(2252),t["default"]=s["default"].module("aws.apiManager.resources",[a(120)["default"].name,a(81)["default"].name,a(1486)["default"].name]).directive("resources",a(1487)["default"])},659:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e){var t=[],a=function(){function t(){o(this,t),void 0===this.shouldShowTarget&&(this.shouldShowTarget=!0),void 0===this.shouldShowProperties&&(this.shouldShowProperties=!0)}return n(t,[{key:"doesTypeHavePath",value:function(){return e.doesTypeHavePath(this.apiDocPart.location.type)}},{key:"doesTypeHaveMethod",value:function(){return e.doesTypeHaveMethod(this.apiDocPart.location.type)}},{key:"doesTypeHaveStatusCode",value:function(){return e.doesTypeHaveStatusCode(this.apiDocPart.location.type)}},{key:"doesTypeHaveName",value:function(){return e.doesTypeHaveName(this.apiDocPart.location.type)}},{key:"getHumanFriendlyType",value:function(){return e.getHumanFriendlyType(this.apiDocPart.location.type)}},{key:"prettyPrintProperties",value:function(){return e.prettyPrintProperties(this.apiDocPart.properties)}}]),t}();return a.$inject=t,{restrict:"E",template:d["default"],scope:{},bindToController:{api:"=",apiDocPart:"=",shouldShowTarget:"=?",shouldShowProperties:"=?"},controllerAs:"apiDocPartStaticCtrl",controller:a}}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),i=a(2),c=r(i);a(673);var l=a(663),d=r(l),p=["documentationService"];s.$inject=p,t["default"]=c["default"].module("aws.apiManager.apiDocPartStatic",[a(196)]).directive("apiDocPartStatic",s)},660:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t,a,r,s,c,l){var d=["$scope"],u=function(){function t(a){var r=this;o(this,t),void 0===this.shouldShowTarget&&(this.shouldShowTarget=!0),a.$on("apiDocPart:save",function(){r.saveApiDocPart()}),this.showSaveSpinner=!1,this.apiDocPart=this.apiDocPart||{},this.apiDocPart.id||(this.isNew=!0),this.formData={properties:this.apiDocPart.properties||'{\n    "description": ""\n}',location:n({},this.apiDocPart.location)},this.uiAceOptions={theme:"dawn",fontSize:12,useWrapMode:!1},this.apiDocPartTypeOptions=e.getApiDocPartTypeOptions(),this.methods=e.getHttpMethods({includeWildcard:!0})}return i(t,[{key:"doesTypeHavePath",value:function(){return this.formData.location.type&&e.doesTypeHavePath(this.formData.location.type)}},{key:"doesTypeHaveMethod",value:function(){return this.formData.location.type&&e.doesTypeHaveMethod(this.formData.location.type)}},{key:"doesTypeHaveStatusCode",value:function(){return this.formData.location.type&&e.doesTypeHaveStatusCode(this.formData.location.type)}},{key:"doesTypeHaveName",value:function(){return this.formData.location.type&&e.doesTypeHaveName(this.formData.location.type)}},{key:"saveApiDocPart",value:function(){return this.apiDocPart.id?this.updateApiDocPart():this.createApiDocPart()}},{key:"updateApiDocPart",value:function(){var t=this;return this.showSaveSpinner=!0,e.updateApiDocPartProperties({apiId:this.api.id,docPart:this.apiDocPart,properties:this.formData.properties}).then(function(e){var t=e.data;s.$broadcast("apiDocPart:updateComplete",t)})["finally"](function(){t.showSaveSpinner=!1})}},{key:"createApiDocPart",value:function(){var t=this;return this.showSaveSpinner=!0,e.createApiDocPart({apiId:this.api.id,data:this.formData}).then(function(e){var a=e.data;t.showSaveSpinner=!1,s.$broadcast("apiDocPart:createComplete",a)})["finally"](function(){t.showSaveSpinner=!1})}}]),t}();return u.$inject=d,{restrict:"E",template:p["default"],scope:{},bindToController:{api:"=",apiDocPart:"=?",shouldShowTarget:"=?"},controllerAs:"apiDocPartUpsertCtrl",controller:u}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},i=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),c=a(2),l=r(c);a(674);var d=a(664),p=r(d),u=["documentationService","methodService","utilsService","deleteModalService","$rootScope","$translate","API_URL_PREFIX"];s.$inject=u,t["default"]=l["default"].module("aws.apiManager.apiDocPartUpsert",[a(196)["default"].name,a(119)["default"].name,a(81)["default"].name]).directive("apiDocPartUpsert",s)},661:function(e,t,a){t=e.exports=a(8)(),t.push([e.id,".angular api-doc-part-static{overflow:auto;white-space:nowrap}.angular api-doc-part-static,.angular api-doc-part-static .api-doc-part-static{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}.angular api-doc-part-static .awsctk-input-label{width:10rem}.angular api-doc-part-static .form-group{margin-bottom:0;height:3.6rem}.angular api-doc-part-static pre,.angular api-doc-part-static pre code{white-space:pre}",""])},662:function(e,t,a){t=e.exports=a(8)(),t.push([e.id,".angular api-doc-part-upsert{display:block}.angular api-doc-part-upsert .awsctk-input-label{width:10rem}.angular api-doc-part-upsert .form-group{margin-bottom:0;height:3.6rem}",""])},663:function(e,t){e.exports='<div class="api-doc-part-static flex flex-1 flex-column"> <section class="flex-1 flex flex-column"> <div ng-if=apiDocPartStaticCtrl.shouldShowTarget> <div class=form-group> <div class=awsctk-input-label> <label><span translate=API_DOC_PART_STATIC.TYPE_LABEL></span></label> </div> <div class="awsctk-input-field api-doc-part-static-type"> <span>{{apiDocPartStaticCtrl.getHumanFriendlyType()}}</span> </div> </div> <div class=form-group ng-if="apiDocPartStaticCtrl.doesTypeHavePath() && apiDocPartStaticCtrl.apiDocPart.location.path"> <div class=awsctk-input-label> <label translate=API_DOC_PART_STATIC.PATH_LABEL></label> </div> <div class="awsctk-input-field api-doc-part-static-path"> <span>{{apiDocPartStaticCtrl.apiDocPart.location.path}}</span> </div> </div> <div class=form-group ng-if="apiDocPartStaticCtrl.doesTypeHaveMethod() && apiDocPartStaticCtrl.apiDocPart.location.method"> <div class=awsctk-input-label> <label translate=API_DOC_PART_STATIC.METHOD_LABEL></label> </div> <div class="awsctk-input-field api-doc-part-static-method"> <span>{{apiDocPartStaticCtrl.apiDocPart.location.method}}</span> </div> </div> <div class=form-group ng-if="apiDocPartStaticCtrl.doesTypeHaveStatusCode() && apiDocPartStaticCtrl.apiDocPart.location.statusCode"> <div class=awsctk-input-label> <label translate=API_DOC_PART_STATIC.STATUS_CODE_LABEL></label> </div> <div class="awsctk-input-field api-doc-part-static-statusCode"> <span>{{apiDocPartStaticCtrl.apiDocPart.location.statusCode}}</span> </div> </div> <div class=form-group ng-if="apiDocPartStaticCtrl.doesTypeHaveName() && apiDocPartStaticCtrl.apiDocPart.location.name"> <div class=awsctk-input-label> <label translate=API_DOC_PART_STATIC.NAME_LABEL></label> </div> <div class="awsctk-input-field api-doc-part-static-name"> <span>{{apiDocPartStaticCtrl.apiDocPart.location.name}}</span> </div> </div> </div> <pre ng-if=apiDocPartStaticCtrl.shouldShowProperties class=flex-1><code>{{apiDocPartStaticCtrl.prettyPrintProperties()}}</code></pre> </section> </div> '},664:function(e,t){e.exports='<section class="flex flex-column"> <form ng-submit=apiDocPartUpsertCtrl.submit()> <div ng-if=apiDocPartUpsertCtrl.shouldShowTarget> <div class=form-group> <div class=awsctk-input-label> <label><span translate=API_DOC_PART_UPSERT.TYPE_LABEL></span>*</label> </div> <div class=awsctk-input-field> <select ng-model=apiDocPartUpsertCtrl.formData.location.type ng-options="apiDocPartType.value as apiDocPartType.label for apiDocPartType in apiDocPartUpsertCtrl.apiDocPartTypeOptions"></select> </div> </div> <div class=form-group ng-if=apiDocPartUpsertCtrl.doesTypeHavePath()> <div class=awsctk-input-label> <label><span translate=API_DOC_PART_UPSERT.PATH_LABEL></span>*</label> </div> <div class=awsctk-input-field> <input name=path type=text class=backplane-text-input ng-model=apiDocPartUpsertCtrl.formData.location.path /> </div> </div> <div class=form-group ng-if=apiDocPartUpsertCtrl.doesTypeHaveMethod()> <div class=awsctk-input-label> <label><span translate=API_DOC_PART_UPSERT.METHOD_LABEL></span>*</label> </div> <div class=awsctk-input-field> <select ng-model=apiDocPartUpsertCtrl.formData.location.method ng-options="method.value as method.label for method in apiDocPartUpsertCtrl.methods"></select> </div> </div> <div class=form-group ng-if=apiDocPartUpsertCtrl.doesTypeHaveStatusCode()> <div class=awsctk-input-label> <label><span translate=API_DOC_PART_UPSERT.STATUS_CODE_LABEL></span>*</label> </div> <div class=awsctk-input-field> <input name=statusCode type=text class=backplane-text-input ng-model=apiDocPartUpsertCtrl.formData.location.statusCode /> </div> </div> <div class=form-group ng-if=apiDocPartUpsertCtrl.doesTypeHaveName()> <div class=awsctk-input-label> <label><span translate=API_DOC_PART_UPSERT.NAME_LABEL></span>*</label> </div> <div class=awsctk-input-field> <input name=name type=text class=backplane-text-input ng-model=apiDocPartUpsertCtrl.formData.location.name /> </div> </div> </div> <div class="json-editor swagger-file-editor" ng-model=apiDocPartUpsertCtrl.formData.properties ui-ace=apiDocPartUpsertCtrl.uiAceOptions></div> </form> </section> '},673:function(e,t,a){var r=a(661);"string"==typeof r&&(r=[[e.id,r,""]]);a(9)(r,{});r.locals&&(e.exports=r.locals)},674:function(e,t,a){var r=a(662);"string"==typeof r&&(r=[[e.id,r,""]]);a(9)(r,{});r.locals&&(e.exports=r.locals)},679:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,a,r,o,s,n,i,c,l,d){var p=void 0;d=d||{location:{type:s,path:n,method:i,statusCode:c,name:l},properties:'{\n    "description": ""\n}'},t.api=o,t.path=n,t.method=i,t.statusCode=c,t.name=l,t.apiDocPart=d,t.hasDocPart=!!t.apiDocPart.id,t.isEditing=!t.hasDocPart,t.uiAceOptions={theme:"dawn",fontSize:12,useWrapMode:!0,onLoad:function(e){p=e,p.getSession().setMode("ace/mode/json")}},t.$on("apiDocPart:createComplete",function(e,a){t.cancelEditApiDocPart(),d=a,t.apiDocPart=d}),t.$on("apiDocPart:updateComplete",function(e,a){t.cancelEditApiDocPart(),t.apiDocPart=a}),t.close=function(){a.close()},t["delete"]=function(){return r.deleteApiDocPart({apiId:o.id,docPart:d}).then(function(){return t.close()})},t.editApiDocPart=function(){t.isEditing=!0},t.isLocationMatch=function(){var e=t.apiDocPart.location;return e.type==s&&e.path==n&&e.method==i&&e.statusCode==c&&e.name==l},t.overrideApiDocPart=function(){t.isEditing=!0,t.apiDocPart={location:{type:s,path:n,method:i,statusCode:c,name:l},properties:d.properties}},t.cancelEditApiDocPart=function(){t.isEditing=!1,t.apiDocPart=d},t.saveApiDocPart=function(){e.$broadcast("apiDocPart:save")}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(2),n=r(s),i=["$rootScope","$scope","$modalInstance","documentationService","api","docPartType","path","method","statusCode","name","apiDocPart"];o.$inject=i,t["default"]=n["default"].module("aws.apiManager.services.apiDocPartModal",[a(659)["default"].name,a(660)["default"].name,a(196)["default"].name,a(34)]).service("apiDocPartModalService",["$modal","utilsService","documentationService",function(e,t,r){return{showModal:function(t){var s=t.api,n=t.docPartType,i=t.path,c=t.method,l=t.statusCode,d=t.name,p=r.findDocPartByTarget({type:n,path:i,method:c,statusCode:l,name:d});return e.open({size:"md",animation:!1,windowClass:"angular",template:a(700),controller:o,resolve:{api:function(){return s},docPartType:function(){return n},path:function(){return i},method:function(){return c},statusCode:function(){return l},name:function(){return d},apiDocPart:function(){return p}}})}}}])},700:function(e,t){e.exports='<div class="backplane-modal modal-header"> <button type=button class=close ng-click=close()>&times;</button> <span translate=API_DOC_PART_MODAL.HEADER></span> </div> <div class=modal-body> <div class=backplane-modal-directions ng-if="!apiDocPart || !apiDocPart.id"><span translate=API_DOC_PART_MODAL.INTRO_TEXT_CREATE></span></div> <div class=backplane-modal-directions ng-if="apiDocPart && apiDocPart.id"><span translate=API_DOC_PART_MODAL.INTRO_TEXT_UPDATE></span></div> <api-doc-part-static api=api api-doc-part=apiDocPart should-show-target=true should-show-properties=!isEditing></api-doc-part-static> <api-doc-part-upsert ng-if=isEditing api=api api-doc-part=apiDocPart should-show-target=false></api-doc-part-upsert> </div> <div class=modal-footer> <button class=backplane-btn-danger ng-if="apiDocPart.id && !isEditing && isLocationMatch()" ng-click=delete()><span translate=API_DOC_PART_MODAL.DELETE_BUTTON></span></button> <button class=backplane-btn-secondary ng-click=close()><span translate=API_DOC_PART_MODAL.CLOSE_BUTTON></span></button> <button class=backplane-btn-secondary ng-if=!isEditing ng-click=editApiDocPart() translate=API_DOC_PART_MODAL.EDIT_BUTTON></button> <button class=backplane-btn-secondary ng-if="apiDocPart.id && !isLocationMatch() && !isEditing" ng-click=overrideApiDocPart() translate=API_DOC_PART_MODAL.OVERRIDE></button> <button class=backplane-btn-secondary ng-if="isEditing && apiDocPart.id" ng-click=cancelEditApiDocPart() translate=API_DOC_PART_MODAL.CANCEL_BUTTON></button> <button class=backplane-btn-primary ng-if=isEditing ng-click=saveApiDocPart() translate=API_DOC_PART_MODAL.SAVE_BUTTON></button> </div> '},1463:function(e,t,a){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),n=["$modalInstance","utilsService","apiService","stageService","api","$translate"],i=function(){function e(t,a,s,n,i,c){var l=this;o(this,e),this.$modalInstance=t,this.apiService=s,this.api=i,this.stages=[{stageName:"[New Stage]"}],this.$translate=c,n.getStagesByApi({apiId:i.id,params:{limit:1e3}}).then(function(e){var t=e.data;l.stages=[].concat(r(a.getDataItemArray(t)),[{stageName:"[New Stage]"}])})}return s(e,[{key:"translateStageNameLabel",value:function(e){return e&&"[New Stage]"===e?this.$translate.instant("DEPLOY_API_MODAL.FORM_NEW_STAGE_VALUE"):e}},{key:"ok",value:function(){var e=this;this.showSpinner=!0,this.apiService.deployApi({api:this.api,stageName:this.formData.stage.stageName,description:this.formData.description,newStageName:this.formData.newStageName,newStageDescription:this.formData.newStageDescription}).then(function(){var t=e.formData.newStageName?e.formData.newStageName:e.formData.stage.stageName;e.$modalInstance.close(t)})["catch"](function(t){var a=t.data.message||t.data.cause;e.showError=!0,e.showSpinner=!1,429===t.status&&(a=e.$translate.instant("DEPLOY_API_MODAL.DEPLOYMENT_LIMIT_THROTTLING_MESSAGE")),e.errorMessage=a})}},{key:"cancel",value:function(){this.$modalInstance.dismiss("cancel")}}]),e}();i.$inject=n;var c=["$rootScope","$modal"],l=function(){function e(t,a){o(this,e),this.$modal=a,this.$rootScope=t}return s(e,[{key:"open",value:function(e){var t=this;this.modalInstance=this.$modal.open({animation:!1,windowClass:"angular",template:a(1676),controller:i,controllerAs:"deployApiModalCtrl",resolve:{api:function(){return e}}}),this.modalInstance.result.then(function(a){e.status="DEPLOYED",window.location.href="#/apis/"+e.id+"/stages/"+a,t.$rootScope.$broadcast("api:deploy")})}},{key:"close",value:function(){this.modalInstance.close()}}]),e}();t["default"]=l,l.$inject=c},1464:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(2),s=r(o);t["default"]=s["default"].module("aws.apiManager.deployApiModal",[a(84)["default"].name,a(119)["default"].name]).service("deployApiModalService",a(1463)["default"])},1484:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t,r,s,i,l,d,p,u,h){var f=["$scope"],m=function(){function f(e){var a=this;o(this,f),this.$scope=e,this.isTreeRefreshing=!1,this.isDeployApiTooltipOpen=!1,e.$watch(function(){return a.resources},function(e){e&&a.mapResourceRelations()}),e.$watch(function(){return t.params.resourceId},function(e){a.selectedResource=a.resources.find(function(t){return t.id===e})}),e.$watch(function(){return t.params.methodName},function(e){return a.selectedResource?void(a.selectedMethod=a.selectedResource._embedded["resource:methods"].find(function(t){return t.httpMethod===e})):void(a.selectedMethod=void 0)}),e.$on("firstTimeUserService:showDeployApiTooltip",function(e,t){return a.isDeployApiTooltipOpen=t}),window.setTimeout(function(){return document.querySelector(".actions-dropdown-button").addEventListener("blur",function(){a.isDeployApiTooltipOpen=!1,e.$digest()})})}return n(f,[{key:"deployApi",value:function(){d.open(this.api)}},{key:"getUnusedHttpMethods",value:function(){if(!this.selectedResource)return[];var e=this.selectedResource._embedded["resource:methods"];return l.getUnusedHttpMethods({methods:e,includeAnyMethod:!0})}},{key:"isSelectedResourceProxyResource",value:function(){return this.selectedResource&&s.resourceUriHasGreedyPathParameter(this.selectedResource.path)}},{key:"goToEnableCors",value:function(){window.location="#/apis/"+this.api.id+"/resources/"+this.selectedResource.id+"/enable-cors"}},{key:"goToImportApi",value:function(){window.location="#/apis/"+this.api.id+"/resources/import"}},{key:"createResource",value:function(){window.location="#/apis/"+this.api.id+"/resources/"+this.selectedResource.id+"/create"}},{key:"createMethod",value:function(){e.$broadcast("resource:createMethod")}},{key:"showApiDocumentation",value:function(){h.showModal({api:this.api,docPartType:"API"})}},{key:"showResourceDocumentation",value:function(){h.showModal({api:this.api,docPartType:"RESOURCE",path:this.selectedResource.path})}},{key:"showMethodDocumentation",value:function(){h.showModal({api:this.api,docPartType:"METHOD",path:this.selectedResource.path,method:this.selectedMethod.httpMethod})}},{key:"deleteMethod",value:function(){var e=this,t=r.open({animation:!1,windowClass:"angular",template:a(82),controller:"deleteModalInstanceCtrl",resolve:{type:function(){return u.instant("RESOURCE_TREE.METHOD_LABEL")},name:function(){return e.selectedMethod.httpMethod},actionLink:function(){return"/apigateway/backend/restapis/"+e.api.id+"/resources/"+e.selectedResource.id+"/methods/"+e.selectedMethod.httpMethod}}});t.result.then(function(){i.reloadState("aws.apiManager.apis.api.details.resources.resource.details",{apiId:e.api.id,resourceId:e.selectedResource.id})})}},{key:"deleteResource",value:function(){var e=this,t=r.open({animation:!1,windowClass:"angular",template:a(82),controller:"deleteModalInstanceCtrl",resolve:{type:function(){return u.instant("RESOURCE_TREE.RESOURCE_LABEL")},name:function(){return e.selectedResource.path},actionLink:function(){return"/apigateway/backend/restapis/"+e.api.id+"/resources/"+e.selectedResource.id}}});t.result.then(function(){i.reloadState("aws.apiManager.apis.api.details.resources.list",{apiId:e.api.id})})}},{key:"deleteApi",value:function(){function t(e,t,a,r){e.restapiName=a,e.restapiId=r,e.ok=function(){t.close()},e.cancel=function(){t.dismiss("cancel")}}var o=this;t.$inject=["$scope","$modalInstance","restapiName","restapiId"];var s=r.open({animation:!1,windowClass:"angular",template:a(1671),resolve:{restapiName:function(){return o.api.name},restapiId:function(){return o.api.id}},controller:t});s.result.then(function(){p.deleteApi(o.api.id).then(function(){e.$broadcast("apiDelete:apiDeleted",o.api.id),i.reloadState("aws.apiManager.apis.apisList")})["catch"](function(e){var t=e.data.message;429===e.status&&(t=u.instant("RESOURCE_TREE.API_DELETE_LIMIT_THROTTLING_MESSAGE")),i.showError({message:t})})})}},{key:"mapResourceRelations",value:function(){var e=this;this.resources.map(function(e){return e.resources=[],e}).forEach(function(t){var a="/"===t.path?"":t.path.substring(0,t.path.lastIndexOf("/"))||"/",r=(0,c["default"])(e.resources,function(e){return e.path===a});r?r.resources.push(t):e.rootResource=t})}}]),f}();return m.$inject=f,{restrict:"E",scope:{resources:"=",api:"="},template:a(1697),bindToController:!0,controllerAs:"resourcesTreeCtrl",controller:m}}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();t["default"]=s;var i=a(35),c=r(i),l=["$rootScope","$state","$modal","resourceService","utilsService","methodService","deployApiModalService","apiService","$translate","apiDocPartModalService"];s.$inject=l},1485:function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,o,n,i){var c=["$scope"],l=function(){function a(e){var t=this;r(this,a),this.showMethodSpinner=!1,this.createMethodVerb="",this.isCreatingMethod=!1,this.collapsed=!1,e.$on("resource:createMethod",function(){t.isResourceSelected()&&t.createMethod()})}return s(a,[{key:"showResourceDocumentation",value:function(){i.showModal({api:this.api,docPartType:"RESOURCE",path:this.resource.path})}},{key:"showMethodDocumentation",value:function(e){i.showModal({api:this.api,docPartType:"METHOD",path:this.resource.path,method:e})}},{key:"getUnusedHttpMethods",value:function(){var e=this.resource;if(!e)return[];var a=this.resource._embedded["resource:methods"];return t.getUnusedHttpMethods({methods:a,includeAnyMethod:!0})}},{key:"toggleCollapse",value:function(){this.collapsed=!this.collapsed}},{key:"isResourceSelected",value:function(){return this.resource&&this.resource.id===n.resourceId}},{key:"isMethodSelected",value:function(e){return e===n.methodName}},{key:"setMethodVerb",value:function(e){this.createMethodVerb=e}},{key:"createMethod",value:function(){this.isCreatingMethod=!0,this.createMethodVerb=""}},{key:"continueCreateMethod",value:function(){var a=this;this.showMethodSpinner=!0;var r={authorizationType:"NONE",requestParameters:e.getMethodRequestParametersFromPath(this.resource.path)};return t.createMethod({apiId:this.api.id,resourceId:this.resource.id,httpMethod:this.createMethodVerb,data:r}).success(function(e){return a.showMethodSpinner=!1,a.isCreatingMethod=!1,a.resource._embedded["resource:methods"].push(e),window.location.href="#/apis/"+a.api.id+"/resources/"+a.resource.id+"/methods/"+a.createMethodVerb,t.addEmpty200ResponseModel({apiId:a.api.id,resourceId:a.resource.id,httpMethod:a.createMethodVerb}).success(function(){a.showSpinner=!1}).error(function(e){a.showSpinner=!1,"Invalid model name specified: application/json=Empty"!==e.message&&o.showError(e)})}).error(function(e){o.showError(e),a.showMethodSpinner=!1})}},{key:"cancelCreateMethod",value:function(){this.isCreatingMethod=!1}}]),a}();return l.$inject=c,{restrict:"E",scope:{resource:"=",api:"="},template:a(1696),bindToController:!0,controllerAs:"resourcesTreeRendererCtrl",controller:l,compile:function(e){return o.recursionHelper(e)}}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();t["default"]=o;var n=["resourceService","methodService","utilsService","$stateParams","apiDocPartModalService"];o.$inject=n},1486:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(2),s=r(o);a(2251),t["default"]=s["default"].module("aws.apiManager.resourcesTree",[a(120)["default"].name,a(81)["default"].name,a(121)["default"].name,a(84)["default"].name,a(1464)["default"].name,a(679)["default"].name]).directive("resourcesTree",a(1484)["default"]).directive("resourcesTreeRenderer",a(1485)["default"])},1487:function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,o){var s=["$scope"],n=function i(e){var a=this;r(this,i),e.$watch(function(){return t.isMethodLoading},function(e){return a.isDetailsViewLoading=e}),o.customerReady()};return n.$inject=s,{restrict:"E",scope:{api:"=",resources:"="},template:a(1698),bindToController:!0,controllerAs:"resourcesCtrl",controller:n}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var s=["resourceService","methodService","awscService"];o.$inject=s},1586:function(e,t,a){t=e.exports=a(8)(),t.push([e.id,".angular resources-tree{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;position:relative}.angular resources-tree .dropdown-menu>li .text-muted{color:#777}.angular resources-tree .dropdown-menu>li>a,.angular resources-tree .dropdown-menu>li>span{display:block;padding:3px 20px;clear:both;font-weight:400;line-height:1.42857143;white-space:nowrap;color:#333}.angular resources-tree .dropdown-menu>li>a:focus,.angular resources-tree .dropdown-menu>li>a:hover{color:#262626;text-decoration:none;background-color:#f5f5f5}.angular resources-tree-renderer{display:block}.angular resources-tree-renderer .method-documentation-button,.angular resources-tree-renderer .resource-documentation-button{font-size:1.5rem;line-height:2rem}",""])},1587:function(e,t,a){t=e.exports=a(8)(),t.push([e.id,"resources,resources .resources{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1}resources .resources{overflow:auto}",""])},1671:function(e,t){e.exports='<div class="backplane-modal modal-header"> <button type=button class=close ng-click=cancel()>&times;</button> <span translate=API.DELETE_REST_API_BUTTON></span> </div> <div class=modal-body> <div class=backplane-modal-directions> <p class=modal-warning-message><i class="fa fa-exclamation-triangle"></i><span translate=API.DELETE_CONFIRMATION_TEXT translate-values="{apiName: restapiName}"></span></p> <p><span translate=API.ENTER_API_NAME></span> <input type=text ng-model=apiNameConfirm /> </p> </div> </div> <div class=modal-footer> <button class=backplane-btn-link ng-click=cancel() translate=API.DELETE_CANCEL_BUTTON></button> <button id=confirmDeleteApiButton class=backplane-btn-danger ng-click=ok() ng-disabled="apiNameConfirm !== restapiName || showSpinner"><i ng-show=showSpinner class="fa fa-refresh fa-spin button-spinner"></i><span translate=API.DELETE_OK_BUTTON></span></button> </div> '},1676:function(e,t){e.exports='<div class=deploy-api-modal> <div class="backplane-modal modal-header"> <button type=button ng-click=deployApiModalCtrl.cancel() class=close>×</button><span translate=DEPLOY_API_MODAL.TITLE_STRING></span> <hint text="{{\'HINTS.DEPLOY\' | translate}}" hint-id=deployApi style=position:relative;top:-.5rem placement=bottom></hint> </div> <div class=modal-body> <div> <div ng-show=deployApiModalCtrl.errorMessage class="notification notification-modal error"> <p> <i class="fa fa-exclamation-circle exclamation"></i> <span ng-bind-html=deployApiModalCtrl.errorMessage></span> </p> </div> </div> <div class=backplane-modal-directions><span translate=DEPLOY_API_MODAL.CHOOSE_STAGE_DESCRIPTION_TEXT></span></div> <div class=form-group> <div> <div class=awsctk-input-label> <label translate=DEPLOY_API_MODAL.FORM_DEPLOYMENT_STAGE_LABEL></label> </div> <div class="awsctk-input-field awsctk-input-field-modal select-wrapper-height"> <select ng-model=deployApiModalCtrl.formData.stage ng-options="deployApiModalCtrl.translateStageNameLabel(stage.stageName) for stage in deployApiModalCtrl.stages" class="awsctk-form-medium backplane-text-input"></select> </div> <div ng-show="deployApiModalCtrl.formData.stage.stageName===\'[New Stage]\'" class=new-label-form> <form name=deploy> <div class=awsctk-input-label> <label translate=DEPLOY_API_MODAL.FORM_STAGE_NAME_LABEL></label>* </div> <div class="awsctk-input-field awsctk-input-field-modal"> <input ng-model=deployApiModalCtrl.formData.newStageName name=newStageName type=text class=backplane-text-input /> </div> <div class=awsctk-input-label> <label translate=DEPLOY_API_MODAL.FORM_STAGE_DESCRIPTION_LABEL></label> </div> <div class="awsctk-input-field awsctk-input-field-modal textarea-no-resize"> <textarea rows=5 ng-model=deployApiModalCtrl.formData.newStageDescription class="awsctk-form-medium backplane-text-input"></textarea> </div> </form> </div> </div> <div class=awsctk-input-label> <label translate=DEPLOY_API_MODAL.FORM_DEPLOYMENT_DESCRIPTION_LABEL></label> </div> <div class="awsctk-input-field awsctk-input-field-modal textarea-no-resize"> <textarea rows=5 ng-model=deployApiModalCtrl.formData.description class="awsctk-form-medium backplane-text-input"></textarea> </div> </div> </div> <div class=modal-footer> <button ng-click=deployApiModalCtrl.cancel() class=backplane-btn-link translate=DEPLOY_API_MODAL.FORM_CANCEL_BUTTON></button> <button ng-click=deployApiModalCtrl.ok() ng-disabled="!deployApiModalCtrl.formData.stage || (deployApiModalCtrl.formData.stage.stageName === \'[New Stage]\' && !deployApiModalCtrl.formData.newStageName) || deployApiModalCtrl.showSpinner" class="backplane-btn-primary deploy-api-button"><i ng-show=deployApiModalCtrl.showSpinner class="fa fa-refresh fa-spin button-spinner"></i><span translate=DEPLOY_API_MODAL.FORM_DEPLOY_BUTTON></span> </button> </div> </div> '},1696:function(e,t){e.exports="<a href=#/apis/{{resourcesTreeRendererCtrl.api.id}}/resources/{{resourcesTreeRendererCtrl.resource.id}} class=\"no-outline tree-link resource-link pad-right-tree angular-ui-tree-handle\" ng-class=\"{\n    'no-children' : resourcesTreeRendererCtrl.resource.resources.length == 0 && resourcesTreeRendererCtrl.resource._embedded['resource:methods'].length == 0,\n    'selected' : resourcesTreeRendererCtrl.isResourceSelected() && resourcesTreeRendererCtrl.isMethodSelected(undefined)}\"> <span class=backplane-collapse-button ng-click=\"$event.preventDefault(); resourcesTreeRendererCtrl.toggleCollapse();\" ng-show=\"resourcesTreeRendererCtrl.resource.resources.length > 0 || resourcesTreeRendererCtrl.resource._embedded['resource:methods'].length > 0\"> <i class=fa ng-class=\"{'fa-caret-right': resourcesTreeRendererCtrl.collapsed, 'fa-caret-down': !resourcesTreeRendererCtrl.collapsed, 'caret-down-pad-fix': !resourcesTreeRendererCtrl.collapsed}\"></i> </span> <span class=backplane-collapse-button ng-hide=\"resourcesTreeRendererCtrl.resource.resources.length > 0 || resourcesTreeRendererCtrl.resource._embedded['resource:methods'].length > 0\"></span> <span class=angular-ui-tree-handle-text> <span class=parent-path>{{resourcesTreeRendererCtrl.resource.parentPath}}</span><span>/{{resourcesTreeRendererCtrl.resource.pathPart}}</span> </span> </a> <ol class=resources-tree__methods-list ng-class=\"{hidden: resourcesTreeRendererCtrl.collapsed}\"> <li class=resource-tree-method-node ng-repeat=\"method in resourcesTreeRendererCtrl.resource._embedded['resource:methods'] | orderBy: 'httpMethod'\"> <div class=\"backplane-method-card small method-card pad-right-tree\" ng-class=\"{'method-any-row': method.httpMethod == 'ANY', 'method-get-row': method.httpMethod == 'GET', 'method-post-row': method.httpMethod == 'POST', 'method-put-row': method.httpMethod == 'PUT', 'method-delete-row': method.httpMethod == 'DELETE', 'method-patch-row': method.httpMethod == 'PATCH', 'method-options-row': method.httpMethod == 'OPTIONS', 'method-head-row': method.httpMethod == 'HEAD'}\"> <a href=#/apis/{{resourcesTreeRendererCtrl.api.id}}/resources/{{resourcesTreeRendererCtrl.resource.id}}/methods/{{method.httpMethod}} class=\"no-outline tree-link pad-right-tree backplane-card-header\" style=padding-left:1rem;padding-right:1rem;margin-left:0 ng-class=\"{\n          'selected' : resourcesTreeRendererCtrl.isResourceSelected() && resourcesTreeRendererCtrl.isMethodSelected(method.httpMethod),\n          'editing' : resourcesTreeRendererCtrl.resource.id == resourceId && method.httpMethod == verb}\"> <span class=http-method> <span>{{method.httpMethod}}</span> </span> </a> </div> </li> <li ng-show=\"resourcesTreeRendererCtrl.isCreatingMethod && resourcesTreeRendererCtrl.isResourceSelected()\" class=\"resource-tree-method-node create-method-tree-node\"> <div class=\"backplane-method-card small method-card pad-right-tree\"> <div class=backplane-card-header style=padding-left:1rem;padding-right:1rem;margin-left:0> <span> <select ng-options=\"verb for verb in resourcesTreeRendererCtrl.getUnusedHttpMethods()\" ng-model=resourcesTreeRendererCtrl.createMethodVerb ng-change=resourcesTreeRendererCtrl.setMethodVerb(resourcesTreeRendererCtrl.createMethodVerb)></select> </span> <span class=create-method-controls> <i ng-show=resourcesTreeRendererCtrl.showMethodSpinner class=\"fa fa-refresh fa-spin\"></i> <i ng-hide=\"resourcesTreeRendererCtrl.showMethodSpinner || !resourcesTreeRendererCtrl.createMethodVerb\" ng-click=resourcesTreeRendererCtrl.continueCreateMethod() class=\"fa fa-check-circle clickable continue-create-method\"></i> <i ng-hide=resourcesTreeRendererCtrl.showMethodSpinner ng-click=resourcesTreeRendererCtrl.cancelCreateMethod() class=\"fa fa-times-circle clickable cancel-create-method\"></i> </span> </div> </div> </li> </ol> <span class=\"tree-dots tree-dots-bottom-list\"></span> <ol class=nested-resources-tree ng-model=resourcesTreeRendererCtrl.resource.resources ng-class=\"{hidden: resourcesTreeRendererCtrl.collapsed}\"> <li ng-repeat=\"resource in resourcesTreeRendererCtrl.resource.resources | orderBy:'path'\"> <resources-tree-renderer api=resourcesTreeRendererCtrl.api resource=resource></resources-tree-renderer> </li> </ol> ";
},1697:function(e,t){e.exports='<div class="tree resources-tree"> <div class=tree-nav-header> <h2 class=clearfix> <span class=resource-tree-title translate=RESOURCE_TREE.TITLE></span> <div class=pull-right ng-if=!resourcesTreeCtrl.stage ng-show=!resourcesTreeCtrl.isResourcePathEditing> <div class=btn-group> <button class="actions-dropdown-button backplane-btn-secondary dropdown-toggle" data-toggle=dropdown aria-haspopup=true aria-expanded=false type=button><span translate=RESOURCE_TREE.ACTIONS_BUTTON></span><span class=caret></span></button> <ul class=dropdown-menu> <li ng-show=resourcesTreeCtrl.selectedMethod class=text-muted><small style=padding-left:1rem;font-weight:700;text-transform:uppercase translate=RESOURCE_TREE.METHOD_ACTIONS_LABEL></small></li> <li ng-show=resourcesTreeCtrl.selectedMethod><a class=show-method-documentation-button href=# ng-click="$event.preventDefault(); resourcesTreeCtrl.showMethodDocumentation()" translate=RESOURCE_TREE.SHOW_METHOD_DOCUMENTATION_BUTTON></a></li> <li ng-show=resourcesTreeCtrl.selectedMethod><a class="text-danger delete-method-button" href=# ng-click="$event.preventDefault(); resourcesTreeCtrl.deleteMethod()" translate=RESOURCE_TREE.DELETE_METHOD_BUTTON style=color:#C00></a></li> <li ng-show=resourcesTreeCtrl.selectedMethod role=separator class=divider></li> <li ng-show=resourcesTreeCtrl.selectedResource class=text-muted><small style=padding-left:1rem;font-weight:700;text-transform:uppercase translate=RESOURCE_TREE.RESOURCE_ACTIONS_LABEL></small></li> <li ng-show=resourcesTreeCtrl.selectedResource> <a ng-if=resourcesTreeCtrl.getUnusedHttpMethods().length class=create-method-button href=# ng-click="$event.preventDefault(); resourcesTreeCtrl.createMethod()" translate=RESOURCE_TREE.CREATE_METHOD_BUTTON></a> <span ng-if=!resourcesTreeCtrl.getUnusedHttpMethods().length class="text-muted create-method-button" translate=RESOURCE_TREE.CREATE_METHOD_BUTTON></span> </li> <li ng-show=resourcesTreeCtrl.selectedResource> <a ng-if=!resourcesTreeCtrl.isSelectedResourceProxyResource() class=create-resource-button href=# ng-click="$event.preventDefault(); resourcesTreeCtrl.createResource()" translate=RESOURCE_TREE.CREATE_RESOURCE_BUTTON></a> <span ng-if=resourcesTreeCtrl.isSelectedResourceProxyResource() class="text-muted create-resource-button" translate=RESOURCE_TREE.CREATE_RESOURCE_BUTTON></span> </li> <li ng-show=resourcesTreeCtrl.selectedResource> <a ng-if="resourcesTreeCtrl.selectedResource._embedded[\'resource:methods\'].length" class=enable-cors-button href=# ng-click="$event.preventDefault(); resourcesTreeCtrl.goToEnableCors()" translate=RESOURCE_TREE.ENABLE_CORS_BUTTON></a> <span ng-if="!resourcesTreeCtrl.selectedResource._embedded[\'resource:methods\'].length" class="text-muted enable-cors-button" translate=RESOURCE_TREE.ENABLE_CORS_BUTTON></span> </li> <li ng-show=resourcesTreeCtrl.selectedResource><a class=show-resource-documentation-button href=# ng-click="$event.preventDefault(); resourcesTreeCtrl.showResourceDocumentation()" translate=RESOURCE_TREE.SHOW_RESOURCE_DOCUMENTATION_BUTTON></a></li> <li ng-show=resourcesTreeCtrl.selectedResource><a class="text-danger delete-resource-button" href=# ng-click="$event.preventDefault(); resourcesTreeCtrl.deleteResource()" ng-if=resourcesTreeCtrl.selectedResource.parentId translate=RESOURCE_TREE.DELETE_RESOURCE_BUTTON style=color:#C00></a></li> <li ng-show=resourcesTreeCtrl.selectedResource role=separator class=divider></li> <li class=text-muted><small style=padding-left:1rem;font-weight:700;text-transform:uppercase translate=RESOURCE_TREE.API_ACTIONS_LABEL></small></li> <li><a class=deploy-api-button href=# ng-click="$event.preventDefault(); resourcesTreeCtrl.deployApi()"><span translate=RESOURCE_TREE.DEPLOY_API_BUTTON></span><span tooltip-append-to-body=true tooltip-placement=right tooltip-trigger=none tooltip-is-open=resourcesTreeCtrl.isDeployApiTooltipOpen class=resources-tree__deploy-api-tooltip style=width:1px;height:1px tooltip="{{\'EXAMPLE_API_INTRO_MODAL.BODY\' | translate}}"></span></a></li> <li><a class=import-api-button href=# ng-click="$event.preventDefault(); resourcesTreeCtrl.goToImportApi()" translate=RESOURCE_TREE.IMPORT_API_BUTTON></a></li> <li><a class=show-api-documentation-button href=# ng-click="$event.preventDefault(); resourcesTreeCtrl.showApiDocumentation()" translate=RESOURCE_TREE.SHOW_API_DOCUMENTATION_BUTTON></a></li> <li><a class="text-danger delete-api-button" href=# ng-click="$event.preventDefault(); resourcesTreeCtrl.deleteApi()" translate=RESOURCE_TREE.DELETE_API_BUTTON style=color:#C00></a></li> </ul> </div> <hint text="{{\'HINTS.ACTIONS_BUTTON\' | translate}}" hint-id=resourceActionsButton style=top:1rem;right:0></hint> </div> </h2> </div> <div ng-show=resourcesTreeCtrl.isTreeRefreshing class=tree-refresh-cover> <i class="fa fa-refresh fa-spin"></i> </div> <ol ng-show=!resourcesTreeCtrl.isTreeRefreshing> <li ng-repeat="resource in [resourcesTreeCtrl.rootResource]"> <resources-tree-renderer resource=resource api=resourcesTreeCtrl.api></resources-tree-renderer> </li> </ol> </div> '},1698:function(e,t){e.exports='<div class=resources> <resources-tree api=resourcesCtrl.api resources=resourcesCtrl.resources></resources-tree> <section class=method-loading ng-show=resourcesCtrl.isDetailsViewLoading> <i class="fa fa-refresh fa-spin"></i> </section> <ui-view class=flex-1 style=overflow:auto ng-show=!resourcesCtrl.isDetailsViewLoading /> </div> '},2251:function(e,t,a){var r=a(1586);"string"==typeof r&&(r=[[e.id,r,""]]);a(9)(r,{});r.locals&&(e.exports=r.locals)},2252:function(e,t,a){var r=a(1587);"string"==typeof r&&(r=[[e.id,r,""]]);a(9)(r,{});r.locals&&(e.exports=r.locals)}});
//# sourceMappingURL=7.js.map